"use strict";function ReadUsers(){$.ajax({url:"/read-users",type:"POST",contentType:"application/json",data:""}).done(function(a){$(document).ready(function(){for(var t in a.response)$("tbody#content_0--body").append('\n\t\t\t\t\t<tr class="animated fadeIn faster">\n\t\t\t\t\t<td>'.concat(a.response[t].Office,"</td>\n\t\t\t\t\t<td>").concat(a.response[t].LastName,"</td>\n\t\t\t\t\t<td>").concat(a.response[t].FirstName,"</td>\n\t\t\t\t\t<td>").concat(a.response[t].MiddleName,"</td>\n\t\t\t\t\t<td>").concat(a.response[t].Email,"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t"))})})}function ReadData(t,o){$.ajax({url:"/read-data",type:"POST",contentType:"application/json",data:JSON.stringify({Arr:t})}).done(function(n){$(document).ready(function(){var t="";for(var a in n.response){for(var e in t+='<tr class="animated fadeIn faster">',n.response[a])"_id"!==e&&(t+="<td>".concat(n.response[a][e],"</td>"));t+="</tr>"}console.log(t),$("tbody".concat(o,"--body")).html(t)})})}function getNewUserData(){return{LastName:$("#LastName").val(),FirstName:$("#FirstName").val(),MiddleName:$("#MiddleName").val(),Office:$("#Office").val(),Email:$("#Email").val(),Phone:$("#Phone").val(),FullCompanyName:$("#FullCompanyName").val(),ShortCompanyName:$("#ShortCompanyName").val(),Address:$("#Address").val(),INN:$("#INN").val(),KPP:$("#KPP").val(),OGRN:$("#OGRN").val(),OKPO:$("#OKPO").val(),Bank:$("#Bank").val(),BIK:$("#BIK").val(),CorporateAcc:$("#CorporateAcc").val(),PaymentAcc:$("#PaymentAcc").val()}}window.onload=function(){ReadUsers()},$(document).ready(function(){"/create-success"===window.location.pathname&&(localStorage.getItem("new_email")?($("#new-email").text("".concat(localStorage.getItem("new_email")," ")),localStorage.removeItem("new_email")):window.location.replace("/")),$("button#sendNewUser").click(function(t){t.preventDefault(),$.ajax({url:"/add-user",type:"POST",contentType:"application/json",data:JSON.stringify(getNewUserData())}).done(function(t){localStorage.setItem("new_email",t.email),window.location.replace("/create-success")})}),$("button#btn_log").on("click",function(t){t.preventDefault();var a={email:$("input#login").val(),password:$("input#pass").val()};$.ajax({url:"/login",type:"POST",contentType:"application/json",data:JSON.stringify(a)}).done(function(t){t.ok&&($("span#invalid").hasClass("d-none")||$("span#invalid").addClass("d-none"),window.location.reload())}).fail(function(t){t=JSON.parse(JSON.stringify(t)),$("span#invalid").removeClass("d-none").addClass("text-center").text(t.responseJSON.message)})}),$("button#logout").click(function(){$.ajax({url:"/logout",type:"POST",data:null}).done(function(){alert("EXIT SUCCESS")})}),$('button[form="createNewUser--Form"]').click(function(){var t=getNewUserData();$.ajax({url:"/add-user",type:"POST",data:t}).done(function(t){alert("Пользователь ".concat(t.email," успешно добавлен!")),window.location.reload()})}),$("a[data-query]").click(function(){console.log($(this).data("query"),$(this).attr("href")),ReadData($(this).data("query"),$(this).attr("href"))}),$("button[form]").click(function(t){t.preventDefault();var a=$("form#".concat($(this).attr("form"))).find("input"),e={};e.ArrayName=$(this).data("storage"),$.each(a,function(t,a){e[a.name]=a.value}),$.ajax({url:"/insert-data",type:"POST",contentType:"application/json",data:JSON.stringify(e)}).done(function(t){alert("Заявка успешно добавлена!"),window.location.reload()}).fail(function(t){alert("Всё летит в пизду")})})});